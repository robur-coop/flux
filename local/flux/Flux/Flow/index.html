<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Flow (docs.local.flux.Flux.Flow)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../index.html">Index</a> &#x00BB; <a href="../../../../index.html">docs</a> &#x00BB; <a href="../../../index.html">local</a> &#x00BB; <a href="../../index.html">flux</a> &#x00BB; <a href="../index.html">Flux</a> &#x00BB; Flow</nav><header class="odoc-preamble"><h1>Module <code><span>Flux.Flow</span></code></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#transforming-a-flow.">Transforming a flow.</a></li><li><a href="#composing-flows.">Composing flows.</a></li></ul></nav></div><div class="odoc-content"><h3 id="transforming-a-flow."><a href="#transforming-a-flow." class="anchor"></a>Transforming a flow.</h3><div class="odoc-spec"><div class="spec value anchored" id="val-identity"><a href="#val-identity" class="anchor"></a><code><span><span class="keyword">val</span> identity : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p>A neutral flow that does not change the elements.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p>A flow with all elements transformed with a mapping function.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-tap"><a href="#val-tap" class="anchor"></a><code><span><span class="keyword">val</span> tap : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p>A flow with all elements passed through an effectful function.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-take"><a href="#val-take" class="anchor"></a><code><span><span class="keyword">val</span> take : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p>Take first <code>n</code> elements from the source and discard the rest.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p>A flow that includes only elements that satisfy a predicate.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span><span class="keyword">val</span> filter_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p><code>filter_map fn</code> applies <code>fn</code> to element, discarding it if <code>fn x</code> produces <code>None</code>, and keeping the transformed value otherwise.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bound"><a href="#val-bound" class="anchor"></a><code><span><span class="keyword">val</span> bound : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p><code>bounds</code> limits the consumption of an infinite source to a source with bounded memory consumption. Indeed, the effective aspect of consuming a source, transforming it, and producing a final value (in other words, <a href="../Stream/index.html#val-run"><code>Stream.run</code></a>) can lead (depending on the source) to a peak in memory usage that will only end when the process terminates, leaving no room for other processes to run (in parallel and/or cooperatively) correctly (and surely ending in an <code>Out_of_memory</code> exception if we are in a restricted context).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-split_on_char"><a href="#val-split_on_char" class="anchor"></a><code><span><span class="keyword">val</span> split_on_char : <span>char <span class="arrow">&#45;&gt;</span></span> <span><span>(string, string)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p><code>split_on_char sep</code> is a flow which emits (possibly empty) subtrings of incoming elements that are delimited by the character <code>sep</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bstr"><a href="#val-bstr" class="anchor"></a><code><span><span class="keyword">val</span> bstr : <span><span class="label">len</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span>(string, <a href="../index.html#type-bstr">bstr</a>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p><code>bstr ~len</code> allocates a bigarray of <code>len</code> bytes and copies the incoming strings into this bigarray. Once it is full, it is transferred to the next consumer.</p><p><b>NOTE</b>: the consumer must immediately consume, in one way or another, the given bigarray. <code>bstr</code> <b>reuses</b> this same bigarray (and does not allocate a new one) to refill it with the incoming strings.</p></div></div><h3 id="composing-flows."><a href="#composing-flows." class="anchor"></a>Composing flows.</h3><div class="odoc-spec"><div class="spec value anchored" id="val-compose"><a href="#val-compose" class="anchor"></a><code><span><span class="keyword">val</span> compose : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-flow">flow</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../index.html#type-flow">flow</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p>Compose two flows to form a new flow.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;)"><a href="#val-(&gt;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-flow">flow</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'c</span>, <span class="type-var">'a</span>)</span> <a href="../index.html#type-flow">flow</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p><code>f1 &lt;&lt; f2</code> is <code>compose f1 f2</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;&lt;)"><a href="#val-(&lt;&lt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;&lt;) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-flow">flow</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../index.html#type-flow">flow</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="../index.html#type-flow">flow</a></span></span></code></div><div class="spec-doc"><p><code>f1 &gt;&gt; f2</code> is <code>compose f2 f1</code>.</p></div></div></div></body></html>
